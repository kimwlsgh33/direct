<?xml version="1.0" encoding="UTF-8"?>
<!-- xml 선언 -->
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--태그 규칙 선언-->

<mapper namespace="com.linker.direct.store.StoreMapper">
    <select id="listAll" resultType="com.linker.direct.store.Store">
        <![CDATA[
            SELECT * FROM store ORDER BY store_id
        ]]>
    </select>

    <insert id="create" parameterType="com.linker.direct.store.Store">
        <![CDATA[
            INSERT INTO store (name, address, store_img_url, phone, introduce, business_hour, holiday, category_id)
            VALUES (#{name}, #{address}, #{store_img_url}, #{phone}, #{introduce}, #{business_hour}, #{holiday}, #{category_id})
        ]]>
        <selectKey keyColumn="store_id" keyProperty="store_id" order="AFTER" resultType="java.lang.Long">
            SELECT store_id FROM store WHERE store_id = LAST_INSERT_ID()
        </selectKey>
    </insert>

    <select id="read" resultType="com.linker.direct.store.Store">
        <![CDATA[
            SELECT * FROM store WHERE store_id = #{store_id}
        ]]>
    </select>

    <update id="update" parameterType="com.linker.direct.store.Store">
        <![CDATA[
            UPDATE store SET name = #{name}, address = #{address}, store_img_url = #{store_img_url}, phone = #{phone}, introduce = #{introduce}, business_hour = #{business_hour}, holiday = #{holiday}, category_id = #{category_id} WHERE store_id = #{store_id}
        ]]>
    </update>

    <delete id="delete" parameterType="com.linker.direct.store.Store">
        <![CDATA[
            DELETE FROM store WHERE store_id = #{store_id}
        ]]>
    </delete>
</mapper>